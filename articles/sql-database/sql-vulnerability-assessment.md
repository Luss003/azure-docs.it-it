---
title: Valutazione della vulnerabilità di SQL - Database SQL di Azure | Microsoft Docs
description: Informazioni su come configurare la valutazione della vulnerabilità di SQL nel database SQL e interpretare i report di valutazione.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: ronitr
ms.author: ronitr
ms.reviewer: vanto, carlrab
ms.date: 03/12/2019
ms.openlocfilehash: a65539f1ec6f4a5cab13d35b75f98c428558f884
ms.sourcegitcommit: 7c4de3e22b8e9d71c579f31cbfcea9f22d43721a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/26/2019
ms.locfileid: "68566151"
---
# <a name="sql-vulnerability-assessment-service-helps-you-identify-database-vulnerabilities"></a>Servizio Valutazione della vulnerabilità di SQL per identificare le vulnerabilità dei database

Valutazione della vulnerabilità di SQL è un servizio semplice da configurare che consente di individuare, monitorare e risolvere potenziali vulnerabilità del database. Usarlo per migliorare in modo proattivo la sicurezza del database.

Valutazione della vulnerabilità fa parte dell'offerta [Sicurezza dei dati avanzata](sql-database-advanced-data-security.md) (ADS), che è un pacchetto unificato per le funzionalità di sicurezza avanzate di SQL. È possibile accedere e gestire Valutazione della vulnerabilità tramite il portale centrale di Sicurezza dei dati avanzata di SQL.

> [!NOTE]
> Il servizio Valutazione della vulnerabilità è supportato per il database SQL di Azure, Istanza gestita di SQL di Azure e Azure SQL Data Warehouse. Per praticità, in questo articolo viene usato il database SQL per fare riferimento a uno qualsiasi di questi servizi di database gestiti.

## <a name="the-vulnerability-assessment-service"></a>Servizio Valutazione della vulnerabilità

Valutazione della vulnerabilità di SQL è un servizio che consente di visualizzare lo stato di sicurezza e prevede passaggi utili per risolvere i problemi di sicurezza e migliorare la sicurezza del database. Ciò consente di:  

- Soddisfare i requisiti di conformità che richiedono i report di scansione del database.  
- Soddisfare gli standard di privacy.  
- Monitorare un ambiente dinamico del database in cui è difficile rilevare le modifiche.  

Valutazione della vulnerabilità è un servizio di analisi integrato nel servizio del database SQL di Azure. Il servizio usa una knowledge base di regole che contrassegna le vulnerabilità della sicurezza ed evidenzia le deviazioni dalle procedure consigliate, ad esempio errori di configurazione, autorizzazioni eccessive e dati sensibili non protetti. Le regole si basano su procedure consigliate di Microsoft e si concentrano sui problemi di protezione che presentano maggiori rischi per il database e i dati importanti. Comprendono problemi a livello di database e problemi di sicurezza a livello di server, ad esempio le impostazioni del firewall del server e le autorizzazioni a livello di server. Tali regole rappresentano anche molti dei requisiti di vari organismi normativi che mirano a soddisfare i propri standard di conformità.  

I risultati delle scansioni includono procedure utili per risolvere tutti i problemi e offrono script di risoluzione personalizzati laddove applicabili. È possibile personalizzare un report di valutazione per l'ambiente, impostando una linea di base accettabile per le configurazioni delle autorizzazioni e delle funzioni e le impostazioni del database.

## <a name="implementing-vulnerability-assessment"></a>Implementazione di Valutazione della vulnerabilità

La procedura seguente implementa Valutazione della vulnerabilità nel Database SQL.  

### <a name="1-run-a-scan"></a>1. Eseguire una scansione  

Iniziare a usare Valutazione della vulnerabilità passando a **Sicurezza dei dati avanzata** sotto l'intestazione Sicurezza nel riquadro del database SQL di Azure. Fare clic per abilitare la sicurezza dei dati avanzata e quindi fare clic su **Seleziona archivio** o sulla scheda **Valutazione della vulnerabilità**, che apre automaticamente la scheda delle impostazioni di Valutazione della vulnerabilità per l'intero server SQL.

Avviare la configurazione di un account di archiviazione in cui verranno archiviati i risultati delle scansioni relativi a tutti i database del server. Per altre informazioni sugli account di archiviazione, vedere [Informazioni sugli account di archiviazione di Azure](../storage/common/storage-create-storage-account.md). Dopo aver configurato l'archiviazione, fare clic su **Esegui scansione** per eseguire la scansione del database alla ricerca di vulnerabilità.
  
![Eseguire l'analisi di un database](./media/sql-vulnerability-assessment/pp_va_initialize.png)  

  > [!NOTE]
  > La scansione è semplice e sicura, richiede pochi secondi ed è un'operazione di sola lettura. Non apporta alcuna modifica al database.  

### <a name="2-view-the-report"></a>2. Visualizzare il report

Dopo aver completato la scansione, il report di scansione viene automaticamente mostrato nel portale di Azure. Il report presenta una panoramica dello stato di sicurezza, il numero di problemi trovati e i rispettivi livelli di gravità. I risultati includono avvisi relativi alle deviazioni dalle procedure consigliate e uno snapshot delle impostazioni relative alla sicurezza, ad esempio le entità di sicurezza del database e i ruoli e le relative autorizzazioni associate. Il report di analisi fornisce inoltre una mappa dei dati sensibili individuati nel database e include elementi consigliati per classificare tali dati usando [individuazione dati e classificazione](sql-database-data-discovery-and-classification.md).

![Visualizzare il report](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analizzare i risultati e risolvere i problemi

Esaminare i risultati e determinare quali di questi sono problemi di sicurezza reali nell'ambiente in uso. Eseguire il drill-down per ogni risultato con errore per comprendere l'impatto della ricerca e il motivo per cui i controlli di sicurezza non sono riusciti. Per risolvere il problema, usare le informazioni correttive e utili indicate nel report.  

![Analizzare il report](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)

### <a name="4-set-your-baseline"></a>4. Impostare la linea di base

Quando si esaminano i risultati della valutazione, è possibile contrassegnare risultati specifici come *baseline* accettabile nel proprio ambiente. La linea di base è essenzialmente una personalizzazione della visualizzazione dei risultati. I risultati che corrispondono alla linea di base sono considerati accettabili nelle scansioni successive. Dopo aver stabilito lo stato di sicurezza della baseline, Valutazione della vulnerabilità segnala solo le deviazioni dalla baseline. L'utente può quindi concentrare l'attenzione sui problemi rilevanti.  

![Impostare la linea di base](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Eseguire una nuova scansione per visualizzare il report di rilevamento personalizzato

Dopo aver completato l'impostazione delle **baseline della regola**, eseguire una nuova analisi per visualizzare il report personalizzato. Valutazione delle vulnerabilità ora segnala solo i problemi di protezione che deviano dallo stato della linea di base approvato.

![Visualizzare il report personalizzato](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

Il servizio Valutazione della vulnerabilità può ora essere usato per controllare che il database mantenga un livello elevato di sicurezza in qualsiasi momento e che i criteri aziendali siano soddisfatti. Se sono necessari i report di conformità, i report di Valutazione della vulnerabilità possono essere utili per facilitare il processo di conformità.  

### <a name="6-set-up-periodic-recurring-scans"></a>6. Impostare analisi ricorrenti periodiche

Passare alle impostazioni di Valutazione della vulnerabilità per attivare le **analisi ricorrenti periodiche**. Ciò consente di configurare Valutazione della vulnerabilità per eseguire automaticamente un'analisi del database una volta alla settimana. Verrà inviato un riepilogo dei risultati di analisi agli indirizzi di posta elettronica forniti.

![Visualizzare il report personalizzato](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

### <a name="7-export-an-assessment-report"></a>7. Esportare un report di valutazione

Fare clic su **Esporta risultati analisi** per creare un report di Excel scaricabile del risultato dell'analisi. Questo report contiene una scheda di riepilogo che visualizza un riepilogo della valutazione, tra cui tutti i controlli non riusciti. Include anche una scheda **Risultati** contenente il set completo dei risultati dell'analisi, inclusi tutti i controlli che erano in esecuzione e i dettagli del risultato di ciascun controllo.

### <a name="8-view-scan-history"></a>8. Visualizzare la cronologia analisi

Fare clic su **Cronologia analisi** nel riquadro Valutazione della vulnerabilità per visualizzare una cronologia di tutte le analisi eseguite in precedenza nel database. Selezionare un'analisi specifica nell'elenco per visualizzarne i risultati dettagliati.

Il servizio Valutazione della vulnerabilità può ora essere usato per controllare che il database mantenga un livello elevato di sicurezza in qualsiasi momento e che i criteri aziendali siano soddisfatti. Se sono necessari i report di conformità, i report di Valutazione della vulnerabilità possono essere utili per facilitare il processo di conformità.

## <a name="manage-vulnerability-assessments-using-azure-powershell"></a>Gestire le valutazioni della vulnerabilità usando Azure PowerShell

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]
> [!IMPORTANT]
> Il modulo Azure Resource Manager di PowerShell è ancora supportato dal database SQL di Azure, ma tutte le attività di sviluppo future sono per il modulo AZ. SQL. Per questi cmdlet, vedere [AzureRM. SQL](https://docs.microsoft.com/powershell/module/AzureRM.Sql/). Gli argomenti per i comandi nel modulo AZ e nei moduli AzureRm sono sostanzialmente identici.

È possibile usare i cmdlet di Azure PowerShell per gestire a livello di codice le valutazioni delle vulnerabilità. I cmdlet supportati sono:

- [Update-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Update-azSqlDatabaseVulnerabilityAssessmentSetting)

  Aggiorna le impostazioni di valutazione della vulnerabilità di un database.
- [Get-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentSetting)

  Restituisce le impostazioni di valutazione della vulnerabilità di un database.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentSetting)

  Cancella le impostazioni di valutazione della vulnerabilità di un database.
- [Set-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Set-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Imposta la baseline della regola di valutazione della vulnerabilità.
- [Get-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Ottiene la baseline della regola di valutazione della vulnerabilità per una determinata regola.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Ottiene la baseline della regola di valutazione della vulnerabilità. Impostare la baseline prima di usare questo cmdlet per cancellarla.
- [Start-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Start-azSqlDatabaseVulnerabilityAssessmentScan)

  Attiva l'avvio di un'analisi di valutazione della vulnerabilità.
- [Get-AzSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentScanRecord)

   Ottiene tutti i record dell'analisi di valutazione della vulnerabilità associati a un determinato database.
- [Convert-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Convert-azSqlDatabaseVulnerabilityAssessmentScan)

  Converte i risultati dell'analisi di valutazione della vulnerabilità in un file di Excel.

Per un esempio di script, vedere [Supporto di PowerShell per la valutazione della vulnerabilità di SQL di Azure](https://blogs.msdn.microsoft.com/sqlsecurity/20../../azure-sql-vulnerability-assessment-now-with-powershell-support/).

## <a name="next-steps"></a>Passaggi successivi  

- Altre informazioni su [Advanced data security](sql-database-advanced-data-security.md) (Sicurezza dei dati avanzata)
- Altre informazioni su [Individuazione dati e classificazione](sql-database-data-discovery-and-classification.md)
