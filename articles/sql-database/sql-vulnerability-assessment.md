---
title: Valutazione della vulnerabilità SQL
description: Informazioni su come configurare la valutazione della vulnerabilità di SQL nel database SQL e interpretare i report di valutazione.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: DavidTrigano
ms.author: datrigan
ms.reviewer: vanto, carlrab
ms.date: 03/12/2019
ms.openlocfilehash: f40c7eb3a185409b72291163aa9f30c6d1a7723e
ms.sourcegitcommit: f52ce6052c795035763dbba6de0b50ec17d7cd1d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/24/2020
ms.locfileid: "76721762"
---
# <a name="sql-vulnerability-assessment-service-helps-you-identify-database-vulnerabilities"></a>Servizio Valutazione della vulnerabilità di SQL per identificare le vulnerabilità dei database

Valutazione della vulnerabilità di SQL è un servizio semplice da configurare che consente di individuare, monitorare e risolvere potenziali vulnerabilità del database. È consigliabile usarlo in modo proattivo per migliorare la sicurezza dei database.

Valutazione della vulnerabilità fa parte dell'offerta [Sicurezza dei dati avanzata](sql-database-advanced-data-security.md) (ADS), che è un pacchetto unificato per le funzionalità di sicurezza avanzate di SQL. È possibile accedere e gestire Valutazione della vulnerabilità tramite il portale centrale di Sicurezza dei dati avanzata di SQL.

> [!NOTE]
> Il servizio Valutazione della vulnerabilità è supportato per il database SQL di Azure, Istanza gestita di SQL di Azure e Azure SQL Data Warehouse. Per praticità, in questo articolo viene usato il database SQL per fare riferimento a uno qualsiasi di questi servizi di database gestiti.

## <a name="the-vulnerability-assessment-service"></a>Servizio Valutazione della vulnerabilità

Valutazione della vulnerabilità di SQL è un servizio che consente di visualizzare lo stato di sicurezza e prevede passaggi utili per risolvere i problemi di sicurezza e migliorare la sicurezza del database. Può essere utile per:  

- Soddisfare i requisiti di conformità che richiedono report di analisi dei database.  
- Soddisfare gli standard per la privacy dei dati.  
- Monitorare un ambiente di database dinamico in cui è difficile tenere traccia delle modifiche.  

Valutazione della vulnerabilità è un servizio di analisi integrato nel servizio del database SQL di Azure. Il servizio usa una Knowledge Base di regole per contrassegnare le vulnerabilità di sicurezza ed evidenziare le deviazioni rispetto alle procedure consigliate, ad esempio errori di configurazione, autorizzazioni eccessive e dati sensibili non protetti. Le regole si basano su procedure consigliate di Microsoft e si concentrano sui problemi di protezione che presentano maggiori rischi per il database e i dati importanti. Comprendono problemi a livello di database e problemi di sicurezza a livello di server, ad esempio le impostazioni del firewall del server e le autorizzazioni a livello di server. Queste regole rappresentano anche molti dei requisiti specificati da vari organismi normativi per soddisfare i relativi standard di conformità.  

I risultati dell'analisi includono le azioni applicabili per risolvere ogni problema, oltre a script di correzione personalizzati, ove applicabile. È possibile personalizzare un report di valutazione per l'ambiente, impostando una linea di base accettabile per le configurazioni delle autorizzazioni e delle funzioni e le impostazioni del database.

## <a name="implementing-vulnerability-assessment"></a>Implementazione di Valutazione della vulnerabilità

La procedura seguente implementa Valutazione della vulnerabilità nel Database SQL.  

### <a name="1-run-a-scan"></a>1. eseguire un'analisi  

Iniziare a usare Valutazione della vulnerabilità passando a **Sicurezza dei dati avanzata** sotto l'intestazione Sicurezza nel riquadro del database SQL di Azure. Fare clic per abilitare la sicurezza dei dati avanzata e quindi fare clic su **Seleziona archivio** o sulla scheda **Valutazione della vulnerabilità**, che apre automaticamente la scheda delle impostazioni di Valutazione della vulnerabilità per l'intero server SQL.

Avviare la configurazione di un account di archiviazione in cui verranno archiviati i risultati delle scansioni relativi a tutti i database del server. Per altre informazioni sugli account di archiviazione, vedere [Informazioni sugli account di archiviazione di Azure](../storage/common/storage-create-storage-account.md). Dopo aver configurato l'archiviazione, fare clic su **Esegui scansione** per eseguire la scansione del database alla ricerca di vulnerabilità.
  
![Eseguire l'analisi di un database](./media/sql-vulnerability-assessment/pp_va_initialize.png)  

  > [!NOTE]
  > L'analisi è un'operazione leggera e sicura, che richiede pochi secondi ed è interamente di sola lettura, ovvero non apporta alcuna modifica nel database.  

### <a name="2-view-the-report"></a>2. visualizzare il report

Dopo aver completato la scansione, il report di scansione viene automaticamente mostrato nel portale di Azure. Il report presenta una panoramica dello stato di sicurezza, il numero di problemi trovati e i rispettivi livelli di gravità. I risultati includono avvisi relativi alle deviazioni dalle procedure consigliate e uno snapshot delle impostazioni relative alla sicurezza, ad esempio le entità di sicurezza del database e i ruoli e le relative autorizzazioni associate. Il report di analisi fornisce inoltre una mappa dei dati sensibili individuati nel database e include elementi consigliati per classificare tali dati usando [individuazione dati e classificazione](sql-database-data-discovery-and-classification.md).

![Visualizzare il report](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. analizzare i risultati e risolvere i problemi

Esaminare i risultati e determinare quali di questi sono problemi di sicurezza reali nell'ambiente in uso. Eseguire il drill-down per ogni risultato con errore per comprendere l'impatto della ricerca e il motivo per cui i controlli di sicurezza non sono riusciti. Usare le informazioni sulle azioni di correzione applicabili incluse nel report per risolvere il problema.  

![Analizzare il report](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)

### <a name="4-set-your-baseline"></a>4. impostare la linea di base

Quando si esaminano i risultati della valutazione, è possibile contrassegnare risultati specifici come *baseline* accettabile nel proprio ambiente. La baseline è essenzialmente una personalizzazione della modalità di visualizzazione dei risultati. I risultati corrispondenti alla baseline non vengono considerati problemi nelle analisi successive. Dopo aver stabilito lo stato di sicurezza della baseline, Valutazione della vulnerabilità segnala solo le deviazioni dalla baseline. L'utente può quindi concentrare l'attenzione sui problemi rilevanti.  

![Impostare la linea di base](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. eseguire una nuova analisi per visualizzare il report di rilevamento personalizzato

Dopo aver completato l'impostazione delle **baseline della regola**, eseguire una nuova analisi per visualizzare il report personalizzato. Valutazione delle vulnerabilità ora segnala solo i problemi di protezione che deviano dallo stato della linea di base approvato.

![Visualizzare il report personalizzato](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

Il servizio Valutazione della vulnerabilità può ora essere usato per controllare che il database mantenga un livello elevato di sicurezza in qualsiasi momento e che i criteri aziendali siano soddisfatti. Se sono richiesti report di conformità, i report di valutazione della vulnerabilità possono essere utili a supporto del processo di conformità.  

### <a name="6-set-up-periodic-recurring-scans"></a>6. configurare analisi ricorrenti periodiche

Passare alle impostazioni di Valutazione della vulnerabilità per attivare le **analisi ricorrenti periodiche**. Ciò consente di configurare Valutazione della vulnerabilità per eseguire automaticamente un'analisi del database una volta alla settimana. Verrà inviato un riepilogo dei risultati di analisi agli indirizzi di posta elettronica forniti.

![Visualizzare il report personalizzato](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

### <a name="7-export-an-assessment-report"></a>7. esportare un report di valutazione

Fare clic su **Esporta risultati analisi** per creare un report di Excel scaricabile del risultato dell'analisi. Questo report contiene una scheda di riepilogo che visualizza un riepilogo della valutazione, tra cui tutti i controlli non riusciti. Include anche una scheda **Risultati** contenente il set completo dei risultati dell'analisi, inclusi tutti i controlli che erano in esecuzione e i dettagli del risultato di ciascun controllo.

### <a name="8-view-scan-history"></a>8. visualizzare la cronologia delle analisi

Fare clic su **Cronologia analisi** nel riquadro Valutazione della vulnerabilità per visualizzare una cronologia di tutte le analisi eseguite in precedenza nel database. Selezionare un'analisi specifica nell'elenco per visualizzarne i risultati dettagliati.

Il servizio Valutazione della vulnerabilità può ora essere usato per controllare che il database mantenga un livello elevato di sicurezza in qualsiasi momento e che i criteri aziendali siano soddisfatti. Se sono richiesti report di conformità, i report di valutazione della vulnerabilità possono essere utili a supporto del processo di conformità.

## <a name="manage-vulnerability-assessments-using-azure-powershell"></a>Gestire le valutazioni della vulnerabilità usando Azure PowerShell

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]
> [!IMPORTANT]
> Il modulo Azure Resource Manager di PowerShell è ancora supportato dal database SQL di Azure, ma tutte le attività di sviluppo future sono per il modulo AZ. SQL. Per questi cmdlet, vedere [AzureRM. SQL](https://docs.microsoft.com/powershell/module/AzureRM.Sql/). Gli argomenti per i comandi nel modulo AZ e nei moduli AzureRm sono sostanzialmente identici.

È possibile usare i cmdlet di Azure PowerShell per gestire a livello di codice le valutazioni delle vulnerabilità. I cmdlet supportati sono:

- [Update-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Update-azSqlDatabaseVulnerabilityAssessmentSetting)

  Aggiorna le impostazioni di valutazione della vulnerabilità di un database.
- [Get-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentSetting)

  Restituisce le impostazioni di valutazione della vulnerabilità di un database.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentSetting)

  Cancella le impostazioni di valutazione della vulnerabilità di un database.
- [Set-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Set-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Imposta la baseline della regola di valutazione della vulnerabilità.
- [Get-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Ottiene la baseline della regola di valutazione della vulnerabilità per una determinata regola.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Ottiene la baseline della regola di valutazione della vulnerabilità. Impostare la baseline prima di usare questo cmdlet per cancellarla.
- [Start-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Start-azSqlDatabaseVulnerabilityAssessmentScan)

  Attiva l'avvio di un'analisi di valutazione della vulnerabilità.
- [Get-AzSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentScanRecord)

   Ottiene tutti i record dell'analisi di valutazione della vulnerabilità associati a un determinato database.
- [Convert-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Convert-azSqlDatabaseVulnerabilityAssessmentScan)

  Converte i risultati dell'analisi di valutazione della vulnerabilità in un file di Excel.

Per un esempio di script, vedere [Supporto di PowerShell per la valutazione della vulnerabilità di SQL di Azure](https://blogs.msdn.microsoft.com/sqlsecurity/20../../azure-sql-vulnerability-assessment-now-with-powershell-support/).

## <a name="next-steps"></a>Passaggi successivi  

- Altre informazioni su [Advanced data security](sql-database-advanced-data-security.md) (Sicurezza dei dati avanzata)
- Altre informazioni su [Individuazione dati e classificazione](sql-database-data-discovery-and-classification.md)
